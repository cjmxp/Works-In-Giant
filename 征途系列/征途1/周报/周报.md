# 周报（2019第2，3周）
日期：2019/3/4
## 业务篇
- 学会的技能：使用Engine_Log和Release_WriteLogF两种打日志的方式；了解到Debug和Release的区别之一即为是否为变量初始化，这个很关键，解决了一个14年的NPC对话框的潜藏BUG，且断点还是消息无法观察到。了解到大量的GuiMain.cpp的命令调试部分，并大大的加深对游戏内部的理解，以及添加部分功能的速度。发现了游戏主界面上显示的一些字的客户端表达和服务器发消息单独使用这部分的方式。在服务端不可信之后，又学到了配置不可信。
- 完成的需求：礼包推送增加等级推送，新区绝技、历练优化，段位赛领奖优化（实际上错完成了），开发使用道具打开网站视频，成就系统功能优化。
## 业务篇问题
1. 礼包推送的兼容问题，等级礼包前还有一个附件礼包，策划要求同时存在，而且是界面同时存在，而GuiDialogEx的每一个Dialog建立，需要一个ID，所以这个ID被占用了，所以只能再开一个一模一样的，这个现象在游戏界面右侧按钮推送物品如天气突变包和卡牌券的界面是一个。个人认为其重复度，利用率偏低。但是为了安全，被迫这样写。
2. 绝技内容，不知道为何需要左右键处理，根据windows应用程序的编程，windows自身的处理优先级是最高的，而征途引擎又没有写屏蔽信息（祖传win10更新），所以这边的处理比较的繁琐。而且有两个步骤服务器的重叠了，所以后面增加的一个功能需要服务器的介入。
3. 在研究GuiMain中的那些测试指令时，发现不少的指令需要有特定的界面存在时才能有现象，不然观察不到，而且有些指令时一环扣一环的，前面的流程没有走完，也是出现不了的。
4. 服务端的消息不可信，配置也是不可信的（如果以安全稳定为最高要求），所以把NPC对话框打开视频和道具打开视频分开了。
5. 一个是否显示的变量没有初始化，导致debug和release版本表现不一样，查了半天。