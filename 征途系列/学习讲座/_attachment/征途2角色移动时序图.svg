<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2029px" preserveAspectRatio="none" style="width:1030px;height:2029px;" version="1.1" viewBox="0 0 1030 2029" width="1030px" zoomAndPan="magnify"><defs><filter height="300%" id="flkcv4ijrg18q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="466.75" y="26.0439">角色移动时序图</text><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="1852.2109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="306.5" y="115.2402"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="159.9946"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="234.749"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="345.5034"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="198.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="419.7666"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="506.2754"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="581.0298"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="109.772" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="860.8018"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="190.5264" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="1086.8369"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="68.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="1209.3457"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="190.5264" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="1393.6265"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="68.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="1516.1353"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="190.5264" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="1700.416"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="68.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="1822.9248"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="160.2632" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="617.7842"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="675.5386"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="750.0474"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="76.5088" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="970.5737"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="1010.3281"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="76.5088" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="1277.3633"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="1317.1177"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="76.5088" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="1584.1528"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="1623.9072"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="76.5088" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="1890.9424"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="1930.6968"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="36" x2="36" y1="74.2402" y2="1986.2056"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="311.5" x2="311.5" y1="74.2402" y2="1986.2056"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="669" x2="669" y1="74.2402" y2="1986.2056"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="996.5" x2="996.5" y1="74.2402" y2="1986.2056"/><rect fill="#FEFECE" filter="url(#flkcv4ijrg18q)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="8" y="36.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="15" y="59.1641">Gate2</text><rect fill="#FEFECE" filter="url(#flkcv4ijrg18q)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="8" y="1985.2056"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="15" y="2008.2495">Gate2</text><rect fill="#FEFECE" filter="url(#flkcv4ijrg18q)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="278.5" y="36.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="285.5" y="59.1641">Scene1</text><rect fill="#FEFECE" filter="url(#flkcv4ijrg18q)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="62" x="278.5" y="1985.2056"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="285.5" y="2008.2495">Scene1</text><rect fill="#FEFECE" filter="url(#flkcv4ijrg18q)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="641" y="36.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="648" y="59.1641">Gate1</text><rect fill="#FEFECE" filter="url(#flkcv4ijrg18q)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="641" y="1985.2056"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="648" y="2008.2495">Gate1</text><rect fill="#FEFECE" filter="url(#flkcv4ijrg18q)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="969.5" y="36.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="976.5" y="59.1641">Client</text><rect fill="#FEFECE" filter="url(#flkcv4ijrg18q)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="969.5" y="1985.2056"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="976.5" y="2008.2495">Client</text><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="1852.2109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="306.5" y="115.2402"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="159.9946"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="234.749"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="345.5034"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="198.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="419.7666"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="506.2754"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="581.0298"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="109.772" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="860.8018"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="190.5264" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="1086.8369"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="68.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="1209.3457"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="190.5264" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="1393.6265"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="68.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="1516.1353"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="190.5264" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="311.5" y="1700.416"/><rect fill="#FFFFFF" filter="url(#flkcv4ijrg18q)" height="68.0176" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="316.5" y="1822.9248"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="160.2632" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="617.7842"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="675.5386"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="750.0474"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="76.5088" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="970.5737"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="1010.3281"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="76.5088" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="1277.3633"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="1317.1177"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="76.5088" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="1584.1528"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="1623.9072"/><rect fill="#FFBBBB" filter="url(#flkcv4ijrg18q)" height="76.5088" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="664.5" y="1890.9424"/><rect fill="#E9967A" filter="url(#flkcv4ijrg18q)" height="36.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="669.5" y="1930.6968"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="311.5" x2="358.5" y1="102.9946" y2="102.9946"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="358.5" x2="358.5" y1="102.9946" y2="115.9946"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="317.5" x2="358.5" y1="115.9946" y2="115.9946"/><polygon fill="#A80036" points="327.5,111.9946,317.5,115.9946,327.5,119.9946,323.5,115.9946" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="323.5" y="98.1382">SceneUser::move()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="321.5" x2="363.5" y1="152.749" y2="152.749"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="363.5" x2="363.5" y1="152.749" y2="165.749"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322.5" x2="363.5" y1="165.749" y2="165.749"/><polygon fill="#A80036" points="332.5,161.749,322.5,165.749,332.5,169.749,328.5,165.749" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="328.5" y="147.8926">1.showPathEffect()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="321.5" x2="363.5" y1="227.5034" y2="227.5034"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="363.5" x2="363.5" y1="227.5034" y2="240.5034"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322.5" x2="363.5" y1="240.5034" y2="240.5034"/><polygon fill="#A80036" points="332.5,236.5034,322.5,240.5034,332.5,244.5034,328.5,240.5034" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="328.5" y="222.647">2.on_move()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="321.5" x2="363.5" y1="337.7666" y2="337.7666"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="363.5" x2="363.5" y1="337.7666" y2="350.7666"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322.5" x2="363.5" y1="350.7666" y2="350.7666"/><polygon fill="#A80036" points="332.5,346.7666,322.5,350.7666,332.5,354.7666,328.5,350.7666" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="332.5" y="297.4014"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="328.5" y="315.1558">&lt;&lt;Cmd::stUserMoveMoveUserCmd&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="328.5" y="332.9102">scene-&gt;sendCmdToNine()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="316.5" x2="363.5" y1="407.521" y2="407.521"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="363.5" x2="363.5" y1="407.521" y2="420.521"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322.5" x2="363.5" y1="420.521" y2="420.521"/><polygon fill="#A80036" points="332.5,416.521,322.5,420.521,332.5,424.521,328.5,420.521" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="328.5" y="402.6646">3.scene-&gt;refresh()</text><path d="M240,438.521 L240,465.521 L378,465.521 L378,448.521 L368,438.521 L240,438.521 " fill="#FBFB77" filter="url(#flkcv4ijrg18q)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M368,438.521 L368,448.521 L378,448.521 L368,438.521 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="246" y="458.4189">切屏时通知自己网关</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="326.5" x2="368.5" y1="499.0298" y2="499.0298"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="368.5" x2="368.5" y1="499.0298" y2="512.0298"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="327.5" x2="368.5" y1="512.0298" y2="512.0298"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="512.0298" y2="508.0298"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="512.0298" y2="516.0298"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="106" x="333.5" y="494.1733">4.freshEffectPosi()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="321.5" x2="368.5" y1="568.7842" y2="568.7842"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="368.5" x2="368.5" y1="568.7842" y2="581.7842"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="327.5" x2="368.5" y1="581.7842" y2="581.7842"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="581.7842" y2="577.7842"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="581.7842" y2="585.7842"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="333.5" y="563.9277">5.freshGateScreenIndex()</text><polygon fill="#A80036" points="652.5,613.7842,662.5,617.7842,652.5,621.7842,656.5,617.7842" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="316.5" x2="658.5" y1="617.7842" y2="617.7842"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="323.5" y="613.6821">6.Cmd::Scene::t_fresh_ScreenIndex</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="679.5" x2="721.5" y1="668.0474" y2="668.0474"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="721.5" x2="721.5" y1="668.0474" y2="681.0474"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="680.5" x2="721.5" y1="681.0474" y2="681.0474"/><polygon fill="#A80036" points="690.5,677.0474,680.5,681.0474,690.5,685.0474,686.5,681.0474" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="686.5" y="645.4365">&lt;&lt;-1&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="686.5" y="663.1909">6-1.SceneClient::removeIndex()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="679.5" x2="721.5" y1="742.8018" y2="742.8018"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="721.5" x2="721.5" y1="742.8018" y2="755.8018"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="680.5" x2="721.5" y1="755.8018" y2="755.8018"/><polygon fill="#A80036" points="690.5,751.8018,680.5,755.8018,690.5,759.8018,686.5,755.8018" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="686.5" y="737.9453">6-1.SceneClient::refreshIndex()</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="316.5" x2="363.5" y1="848.0649" y2="848.0649"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="363.5" x2="363.5" y1="848.0649" y2="861.0649"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322.5" x2="363.5" y1="861.0649" y2="861.0649"/><polygon fill="#A80036" points="332.5,857.0649,322.5,861.0649,332.5,865.0649,328.5,861.0649" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="328.5" y="807.6997">7.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="328.5" y="825.4541">&lt;&lt;Cmd::stRemoveUserMapScreen&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="328.5" y="843.2085">scene-&gt;sendCmdToReverseDirect()</text><path d="M146,879.0649 L146,906.0649 L473,906.0649 L473,889.0649 L463,879.0649 L146,879.0649 " fill="#FBFB77" filter="url(#flkcv4ijrg18q)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M463,879.0649 L463,889.0649 L473,889.0649 L463,879.0649 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="306" x="152" y="898.9629">别人看我-&gt;通过网关查找反向屏角色，删除自己(广播)</text><polygon fill="#A80036" points="47.5,934.8193,37.5,938.8193,47.5,942.8193,43.5,938.8193" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="41.5" x2="310.5" y1="938.8193" y2="938.8193"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="53.5" y="934.7173">8.Cmd::Scene::t_Nine_rdir_ForwardScene</text><polygon fill="#A80036" points="652.5,966.5737,662.5,970.5737,652.5,974.5737,656.5,970.5737" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="316.5" x2="658.5" y1="970.5737" y2="970.5737"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="323.5" y="966.4717">8.Cmd::Scene::t_Nine_rdir_ForwardScene</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="674.5" x2="721.5" y1="998.0825" y2="998.0825"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="721.5" x2="721.5" y1="998.0825" y2="1011.0825"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="680.5" x2="721.5" y1="1011.0825" y2="1011.0825"/><polygon fill="#A80036" points="690.5,1007.0825,680.5,1011.0825,690.5,1015.0825,686.5,1011.0825" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="686.5" y="993.2261">8-1.ScreenIndex::sendCmdToReverseDirect()</text><polygon fill="#A80036" points="984.5,1043.0825,994.5,1047.0825,984.5,1051.0825,988.5,1047.0825" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="669.5" x2="990.5" y1="1047.0825" y2="1047.0825"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="676.5" y="1042.9805">Cmd::stRemoveUserMapScreen</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="316.5" x2="363.5" y1="1074.5913" y2="1074.5913"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="363.5" x2="363.5" y1="1074.5913" y2="1087.5913"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322.5" x2="363.5" y1="1087.5913" y2="1087.5913"/><polygon fill="#A80036" points="332.5,1083.5913,322.5,1087.5913,332.5,1091.5913,328.5,1087.5913" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="328.5" y="1069.7349">9.sendMeToNineDriect()</text><path d="M146,1105.5913 L146,1132.5913 L473,1132.5913 L473,1115.5913 L463,1105.5913 L146,1105.5913 " fill="#FBFB77" filter="url(#flkcv4ijrg18q)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M463,1105.5913 L463,1115.5913 L473,1115.5913 L463,1105.5913 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="306" x="152" y="1125.4893">别人看我-&gt;通过网关查找正向屏角色，添加自己(广播)</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="321.5" x2="368.5" y1="1196.6089" y2="1196.6089"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="368.5" x2="368.5" y1="1196.6089" y2="1209.6089"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="327.5" x2="368.5" y1="1209.6089" y2="1209.6089"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="1209.6089" y2="1205.6089"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="1209.6089" y2="1213.6089"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="333.5" y="1156.2437">10.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="325" x="333.5" y="1173.998">&lt;&lt;Cmd::stAddUserAndPosMapScreenStateUserCmd&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="333.5" y="1191.7524">scene-&gt;sendCmdToDirect()</text><polygon fill="#A80036" points="47.5,1241.6089,37.5,1245.6089,47.5,1249.6089,43.5,1245.6089" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="41.5" x2="315.5" y1="1245.6089" y2="1245.6089"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="53.5" y="1241.5068">11.Cmd::Scene::t_Nine_dir_ForwardScene</text><polygon fill="#A80036" points="652.5,1273.3633,662.5,1277.3633,652.5,1281.3633,656.5,1277.3633" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="316.5" x2="658.5" y1="1277.3633" y2="1277.3633"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="323.5" y="1273.2612">11.Cmd::Scene::t_Nine_dir_ForwardScene</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="674.5" x2="721.5" y1="1304.8721" y2="1304.8721"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="721.5" x2="721.5" y1="1304.8721" y2="1317.8721"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="680.5" x2="721.5" y1="1317.8721" y2="1317.8721"/><polygon fill="#A80036" points="690.5,1313.8721,680.5,1317.8721,690.5,1321.8721,686.5,1317.8721" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="686.5" y="1300.0156">11-1.ScreenIndex::sendCmdToDirect()</text><polygon fill="#A80036" points="984.5,1349.8721,994.5,1353.8721,984.5,1357.8721,988.5,1353.8721" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="669.5" x2="990.5" y1="1353.8721" y2="1353.8721"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="293" x="676.5" y="1349.77">Cmd::stAddUserAndPosMapScreenStateUserCmd</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="316.5" x2="363.5" y1="1381.3809" y2="1381.3809"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="363.5" x2="363.5" y1="1381.3809" y2="1394.3809"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322.5" x2="363.5" y1="1394.3809" y2="1394.3809"/><polygon fill="#A80036" points="332.5,1390.3809,322.5,1394.3809,332.5,1398.3809,328.5,1394.3809" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="328.5" y="1376.5244">12.removeEntries()</text><path d="M163,1412.3809 L163,1439.3809 L456,1439.3809 L456,1422.3809 L446,1412.3809 L163,1412.3809 " fill="#FBFB77" filter="url(#flkcv4ijrg18q)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M446,1412.3809 L446,1422.3809 L456,1422.3809 L446,1412.3809 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="169" y="1432.2788">我看别人-&gt;通过场景查找反向屏角色，删除它们</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="321.5" x2="368.5" y1="1503.3984" y2="1503.3984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="368.5" x2="368.5" y1="1503.3984" y2="1516.3984"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="327.5" x2="368.5" y1="1516.3984" y2="1516.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="1516.3984" y2="1512.3984"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="1516.3984" y2="1520.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="333.5" y="1463.0332">13.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="333.5" y="1480.7876">&lt;&lt;Cmd::stBatchRemoveUserMapScreenUserCmd&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="333.5" y="1498.542">user-&gt;sendCmdToMe()</text><polygon fill="#A80036" points="47.5,1548.3984,37.5,1552.3984,47.5,1556.3984,43.5,1552.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="41.5" x2="315.5" y1="1552.3984" y2="1552.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="53.5" y="1548.2964">14.Cmd::Scene::t_User_ForwardScene</text><polygon fill="#A80036" points="652.5,1580.1528,662.5,1584.1528,652.5,1588.1528,656.5,1584.1528" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="316.5" x2="658.5" y1="1584.1528" y2="1584.1528"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="323.5" y="1580.0508">14.Cmd::Scene::t_User_ForwardScene</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="674.5" x2="721.5" y1="1611.6616" y2="1611.6616"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="721.5" x2="721.5" y1="1611.6616" y2="1624.6616"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="680.5" x2="721.5" y1="1624.6616" y2="1624.6616"/><polygon fill="#A80036" points="690.5,1620.6616,680.5,1624.6616,690.5,1628.6616,686.5,1624.6616" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="686.5" y="1606.8052">14-1.GateUser::sendCmd()</text><polygon fill="#A80036" points="984.5,1656.6616,994.5,1660.6616,984.5,1664.6616,988.5,1660.6616" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="669.5" x2="990.5" y1="1660.6616" y2="1660.6616"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="676.5" y="1656.5596">Cmd::stBatchRemoveUserMapScreenUserCmd</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="316.5" x2="363.5" y1="1688.1704" y2="1688.1704"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="363.5" x2="363.5" y1="1688.1704" y2="1701.1704"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="322.5" x2="363.5" y1="1701.1704" y2="1701.1704"/><polygon fill="#A80036" points="332.5,1697.1704,322.5,1701.1704,332.5,1705.1704,328.5,1701.1704" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="328.5" y="1683.314">15.sendNineToMeDirect()</text><path d="M163,1719.1704 L163,1746.1704 L456,1746.1704 L456,1729.1704 L446,1719.1704 L163,1719.1704 " fill="#FBFB77" filter="url(#flkcv4ijrg18q)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M446,1719.1704 L446,1729.1704 L456,1729.1704 L446,1719.1704 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="272" x="169" y="1739.0684">我看别人-&gt;通过场景查找正向屏角色，添加它们</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="321.5" x2="368.5" y1="1810.188" y2="1810.188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="368.5" x2="368.5" y1="1810.188" y2="1823.188"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="327.5" x2="368.5" y1="1823.188" y2="1823.188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="1823.188" y2="1819.188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="327.5" x2="337.5" y1="1823.188" y2="1827.188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="18" x="333.5" y="1769.8228">16.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="333.5" y="1787.5771">&lt;&lt;Cmd::stMapDataMapScreenUserCmd&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="333.5" y="1805.3315">user-&gt;sendCmdToMe()</text><polygon fill="#A80036" points="47.5,1855.188,37.5,1859.188,47.5,1863.188,43.5,1859.188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="41.5" x2="315.5" y1="1859.188" y2="1859.188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="53.5" y="1855.0859">17.Cmd::Scene::t_User_ForwardScene</text><polygon fill="#A80036" points="652.5,1886.9424,662.5,1890.9424,652.5,1894.9424,656.5,1890.9424" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="316.5" x2="658.5" y1="1890.9424" y2="1890.9424"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="323.5" y="1886.8403">17.Cmd::Scene::t_User_ForwardScene</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="674.5" x2="721.5" y1="1918.4512" y2="1918.4512"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="721.5" x2="721.5" y1="1918.4512" y2="1931.4512"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="680.5" x2="721.5" y1="1931.4512" y2="1931.4512"/><polygon fill="#A80036" points="690.5,1927.4512,680.5,1931.4512,690.5,1935.4512,686.5,1931.4512" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="686.5" y="1913.5947">17-1.GateUser::sendCmd()</text><polygon fill="#A80036" points="984.5,1963.4512,994.5,1967.4512,984.5,1971.4512,988.5,1967.4512" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="669.5" x2="990.5" y1="1967.4512" y2="1967.4512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="676.5" y="1963.3491">Cmd::stMapDataMapScreenUserCmd</text><!--
@startuml

title 角色移动时序图

participant Gate2
participant Scene1
participant Gate1
participant Client

Scene1 - -> Scene1 : SceneUser::move()
activate Scene1 #FFBBBB

Scene1 - -> Scene1 : 1.showPathEffect()
activate Scene1 #DarkSalmon
deactivate Scene1

Scene1 - -> Scene1 : 2.on_move()
activate Scene1 #DarkSalmon
deactivate Scene1

Scene1 - -> Scene1 : \n<<Cmd::stUserMoveMoveUserCmd>> \nscene->sendCmdToNine()
activate Scene1 #DarkSalmon
deactivate Scene1

Scene1 - -> Scene1 : 3.scene->refresh()
note over Scene1 : 切屏时通知自己网关
activate Scene1 #DarkSalmon
    Scene1 - ->> Scene1 : 4.freshEffectPosi()
    activate Scene1
    deactivate Scene1

    Scene1 - ->> Scene1 : 5.freshGateScreenIndex()
    activate Scene1
        Scene1 -> Gate1 : 6.Cmd::Scene::t_fresh_ScreenIndex
    deactivate Scene1
deactivate Scene1

activate Gate1 #FFBBBB
    Gate1 - -> Gate1 : <<-1>> \n6-1.SceneClient::removeIndex()
    activate Gate1 #DarkSalmon
    deactivate Gate1

    Gate1 - -> Gate1 : 6-1.SceneClient::refreshIndex()
    activate Gate1 #DarkSalmon
    deactivate Gate1
deactivate

Scene1 - -> Scene1 : 7.\n<<Cmd::stRemoveUserMapScreen>> \nscene->sendCmdToReverseDirect()
note over Scene1 : 别人看我->通过网关查找反向屏角色，删除自己(广播)
activate Scene1 #DarkSalmon
    Scene1 - -> Gate2 : 8.Cmd::Scene::t_Nine_rdir_ForwardScene
    Scene1 -> Gate1 : 8.Cmd::Scene::t_Nine_rdir_ForwardScene
deactivate Scene1

activate Gate1 #FFBBBB
    Gate1 - -> Gate1 : 8-1.ScreenIndex::sendCmdToReverseDirect()
    activate Gate1 #DarkSalmon
        Gate1 -> Client : Cmd::stRemoveUserMapScreen
    deactivate Gate1
deactivate

Scene1 - -> Scene1 : 9.sendMeToNineDriect()
note over Scene1 : 别人看我->通过网关查找正向屏角色，添加自己(广播)
activate Scene1 #DarkSalmon
    Scene1 - ->> Scene1 : 10.\n<<Cmd::stAddUserAndPosMapScreenStateUserCmd>> \nscene->sendCmdToDirect()
    activate Scene1
        Scene1 - -> Gate2 : 11.Cmd::Scene::t_Nine_dir_ForwardScene
        Scene1 -> Gate1 : 11.Cmd::Scene::t_Nine_dir_ForwardScene
    deactivate Scene1
deactivate Scene1

activate Gate1 #FFBBBB
    Gate1 - -> Gate1 : 11-1.ScreenIndex::sendCmdToDirect()
    activate Gate1 #DarkSalmon
        Gate1 -> Client : Cmd::stAddUserAndPosMapScreenStateUserCmd
    deactivate
deactivate Gate1


Scene1 - -> Scene1 : 12.removeEntries()
note over Scene1 : 我看别人->通过场景查找反向屏角色，删除它们
activate Scene1 #DarkSalmon
    Scene1 - ->> Scene1 : 13.\n<<Cmd::stBatchRemoveUserMapScreenUserCmd>> \nuser->sendCmdToMe()
    activate Scene1
        Scene1 - -> Gate2 : 14.Cmd::Scene::t_User_ForwardScene
        Scene1 -> Gate1 : 14.Cmd::Scene::t_User_ForwardScene
    deactivate Scene1
deactivate Scene1

activate Gate1 #FFBBBB
    Gate1 - -> Gate1 : 14-1.GateUser::sendCmd()
    activate Gate1 #DarkSalmon
        Gate1 -> Client : Cmd::stBatchRemoveUserMapScreenUserCmd
    deactivate Gate1
deactivate Gate1

Scene1 - -> Scene1 : 15.sendNineToMeDirect()
note over Scene1 : 我看别人->通过场景查找正向屏角色，添加它们
activate Scene1 #DarkSalmon
    Scene1 - ->> Scene1 : 16.\n<<Cmd::stMapDataMapScreenUserCmd>> \nuser->sendCmdToMe()
    activate Scene1
        Scene1 - -> Gate2 : 17.Cmd::Scene::t_User_ForwardScene
        Scene1 -> Gate1 : 17.Cmd::Scene::t_User_ForwardScene
    deactivate Scene1
deactivate Scene1

activate Gate1 #FFBBBB
    Gate1 - -> Gate1 : 17-1.GateUser::sendCmd()
    activate Gate1 #DarkSalmon
        Gate1 -> Client : Cmd::stMapDataMapScreenUserCmd
    deactivate Gate1
deactivate Gate1

deactivate Scene1
@enduml

PlantUML version 1.2018.01(Mon Jan 29 02:08:22 CST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.3+12-b304.10
Operating System: Windows 7
OS Version: 6.1
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>